<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script src="https://www.gstatic.com/firebasejs/7.19.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.19.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.19.0/firebase-database.js"></script>
    <script src="init-firebase.js"></script>

    <script src="overallApp.js"></script>
    <script src="addTask.js"></script>

    <link rel="stylesheet" href="overallStyle.css">
    <link rel="stylesheet" href="addTaskStyle.css">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.1/css/bootstrap.min.css"
        integrity="sha384-VCmXjywReHh4PwowAiWNagnWcLhlEJLA5buUprzK8rxFgeH0kww/aWY76TfkUoSX" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css2?family=PT+Sans:ital,wght@0,400;0,700;1,400;1,700&display=swap"
        rel="stylesheet">

    <title>Add Task</title>
</head>

<body onload="includeHTML('addTask'), initApp(), getUsers(), pickOnlyfutureDays();">
    <div w3-include-html="sidebar.html"></div>
    <div class="addTask-page">
        <div class="title-div-container">
            <div class="title-text-container">
                <h2><b>Add Task</b></h2>
                <p>Learning Management Sytem Project</p>
            </div>
        </div>

        <div class="addTask-content-container" id="addTaskForm">
            <div class="card custom-card">
                <div class="inner-custom-card">
                    <div class="right-cardhalf">
                        <div class="card-title-section">
                            <h3>Title</h3>
                            <input onkeydown="enableBtns()" type="text" id="titleInput" name="titleInput">
                        </div>

                        <div class="card-category-section">
                            <h3>Category</h3>
                            <div>
                                <p id="categoryOutput"></p>
                                <select onchange="selectCategory()" id="categoryInput" name="category-input">
                                    <option value=""></option>
                                    <option value="marketing">Marketing</option>
                                    <option value="product">Product</option>
                                    <option value="sales">Sales</option>
                                    <option value="pr">PR</option>
                                    <option value="hr">HR</option>
                                    <option value="it">IT</option>
                                    <option value="private">Private</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>

                        </div>

                        <div class="card-description-section">
                            <h3>Description</h3>
                            <input onkeydown="enableBtns()" type="text" id="descriptionInput" name="description-input">

                        </div>
                    </div>

                    <div class="left-cardhalf">

                        <div class="card-date-section">
                            <h3>Due Date</h3>
                            <input onchange="getDate()" type="date" id="datePickerInput" min='2020-01-01'
                                name="datePickerInput">
                        </div>

                        <div class="card-importance-section">
                            <h3>Importance</h3>
                            <div>
                                <p id="importanceOutput"></p>
                                <select onchange="selectImportance()" id="importanceInput">
                                    <option value=""></option>
                                    <option value="High">High</option>
                                    <option value="Low">Low</option>
                                </select>
                            </div>

                        </div>

                        <div class="card-assign-commit-section">
                            <h3>Assigned to</h3>
                            <div class="assign-person-div">
                                <div id="assign-person-div">
                                </div>
                                <div id="assign-person-btn-div">
                                    <button onclick="addPerson()" id="plus-btn" type="button" class="btn btn-primary"
                                        style="background-color: rgb(30, 49, 144) !important; border-color: rgb(30, 49, 144) !important;"><b>Add</b></button>
                                    <div id="remove-btn-div">
                                        <button onclick="removePerson()" id="remove-btn" type="button"
                                            class="btn btn-danger d-none"><b>Remove</b>
                                        </button>
                                    </div>

                                </div>

                            </div>
                            <div class="assign-commit-div">
                                <button onclick="cancelTask()" id="cancelBtn" name="cancelBtn" type="button"
                                    disabled="disabled" class="btn"
                                    style="background-color: rgb(244, 243, 251) !important; color: rgb(30, 49, 144) !important; border-color: rgb(30, 49, 144) !important;"><b>Cancel</b></button>
                                <button onclick="createTask()" id="createBtn" name="createBtn" type="button"
                                    disabled="disabled" class="btn btn-primary"
                                    style="background-color: rgb(30, 49, 144) !important; border-color: rgb(30, 49, 144) !important;"><b>Create
                                        Task</b></button>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="empty-div-container">
            <div id="createdTaskAlert" class="alert alert-success custom-alert d-none" role="alert">
                <p>You have created a new task!</p>
            </div>

        </div>
    </div>

    <div id="addPersonBlend" class="d-none">
        <div class="user-picker" id="user-picker-blend">
            <div id="user-picker-container">

            </div>
            <div class="back-btn-container" id="back-btn">
                <button onclick="back(), getUserID()" class="btn btn-primary"
                    style="background-color: rgb(30, 49, 144) !important; border-color: rgb(30, 49, 144) !important;">Back</button>
            </div>
        </div>
    </div>
</body>

</html>